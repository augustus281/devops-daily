{
  "id": "secrets-management",
  "slug": "secrets-management",
  "title": "Secrets Management",
  "question": "How do you securely manage secrets (passwords, API keys, certificates) in a DevOps environment?",
  "answer": "Secrets management involves storing, accessing, and rotating sensitive data securely. Best practices: 1) Never commit secrets to version control. 2) Use dedicated secrets managers (HashiCorp Vault, AWS Secrets Manager, Azure Key Vault). 3) Inject secrets at runtime via environment variables or mounted volumes. 4) Implement least-privilege access. 5) Rotate secrets regularly. 6) Audit secret access. In Kubernetes, use external secrets operators rather than plain Secrets objects which are only base64-encoded.",
  "explanation": "Secrets in plain text are a security nightmare - leaked .env files, commits with passwords, and config files in logs cause breaches. Modern secrets management provides encryption at rest and in transit, access logging, automatic rotation, and centralized control. This is a critical security domain that every DevOps engineer must understand.",
  "category": "Security",
  "difficulty": "intermediate",
  "tier": "mid",
  "tags": [
    "security",
    "secrets",
    "vault",
    "devops",
    "best-practices"
  ],
  "codeExamples": [
    {
      "language": "bash",
      "label": "HashiCorp Vault basic usage",
      "code": "# Write a secret\nvault kv put secret/myapp/config \\\n    db_password=supersecret \\\n    api_key=abc123\n\n# Read a secret\nvault kv get secret/myapp/config\n\n# Read specific field\nvault kv get -field=db_password secret/myapp/config\n\n# Enable audit logging\nvault audit enable file file_path=/var/log/vault_audit.log"
    },
    {
      "language": "yaml",
      "label": "External Secrets Operator",
      "code": "apiVersion: external-secrets.io/v1beta1\nkind: ExternalSecret\nmetadata:\n  name: app-secrets\nspec:\n  refreshInterval: 1h\n  secretStoreRef:\n    name: aws-secrets-manager\n    kind: ClusterSecretStore\n  target:\n    name: app-secrets-k8s\n  data:\n  - secretKey: database-password\n    remoteRef:\n      key: prod/myapp/database\n      property: password"
    }
  ],
  "followUpQuestions": [
    "How would you implement secret rotation without application downtime?",
    "What is the difference between encryption at rest and in transit?",
    "How do you handle secrets in CI/CD pipelines securely?"
  ],
  "commonMistakes": [
    "Storing secrets in environment variables in Dockerfiles (visible in image history)",
    "Using Kubernetes Secrets without encryption (they're only base64 encoded)",
    "Not rotating secrets after a team member leaves"
  ],
  "relatedTopics": [
    "vault",
    "encryption",
    "kubernetes-secrets",
    "zero-trust"
  ]
}
